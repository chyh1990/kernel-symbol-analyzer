Only in /home/chenyh/os/linux/lib/: argv_split.c
Only in /home/chenyh/os/linux/lib/: argv_split.o
Only in /home/chenyh/os/linux/lib/: .argv_split.o.cmd
Only in /home/chenyh/os/linux/lib/: atomic64.c
Only in /home/chenyh/os/linux/lib/: atomic64_test.c
Only in /home/chenyh/os/linux/lib/: audit.c
Only in /home/chenyh/os/linux/lib/: average.c
Only in /home/chenyh/os/linux/lib/: average.o
Only in /home/chenyh/os/linux/lib/: .average.o.cmd
Only in /home/chenyh/os/linux/lib/: bcd.c
Only in /home/chenyh/os/linux/lib/: bcd.o
Only in /home/chenyh/os/linux/lib/: .bcd.o.cmd
Only in /home/chenyh/os/linux/lib/: bch.c
Only in /home/chenyh/os/linux/lib/: bitmap.c
Only in /home/chenyh/os/linux/lib/: bitmap.o
Only in /home/chenyh/os/linux/lib/: .bitmap.o.cmd
Only in /home/chenyh/os/linux/lib/: bitrev.c
Only in /home/chenyh/os/linux/lib/: bitrev.o
Only in /home/chenyh/os/linux/lib/: .bitrev.o.cmd
Only in /home/chenyh/os/linux/lib/: bsearch.c
Only in /home/chenyh/os/linux/lib/: bsearch.o
Only in /home/chenyh/os/linux/lib/: .bsearch.o.cmd
Only in /home/chenyh/os/linux/lib/: btree.c
Only in /home/chenyh/os/linux/lib/: bug.c
Only in /home/chenyh/os/linux/lib/: bug.o
Only in /home/chenyh/os/linux/lib/: .bug.o.cmd
Only in /home/chenyh/os/linux/lib/: built-in.o
Only in /home/chenyh/os/linux/lib/: .built-in.o.cmd
Only in /home/chenyh/os/linux/lib/: bust_spinlocks.c
Only in /home/chenyh/os/linux/lib/: bust_spinlocks.o
Only in /home/chenyh/os/linux/lib/: .bust_spinlocks.o.cmd
Only in /home/chenyh/os/linux/lib/: check_signature.c
Only in /home/chenyh/os/linux/lib/: checksum.c
Only in /home/chenyh/os/linux/lib/: clz_tab.c
Only in /home/chenyh/os/linux/lib/: cmdline.c
Only in /home/chenyh/os/linux/lib/: cmdline.o
Only in /home/chenyh/os/linux/lib/: .cmdline.o.cmd
Only in /home/chenyh/os/linux/lib/: cordic.c
Only in /home/chenyh/os/linux/lib/: cpumask.c
Only in /home/chenyh/os/linux/lib/: cpu-notifier-error-inject.c
Only in /home/chenyh/os/linux/lib/: cpu_rmap.c
Only in /home/chenyh/os/linux/lib/: crc16.c
Only in /home/chenyh/os/linux/lib/: crc16.o
Only in /home/chenyh/os/linux/lib/: .crc16.o.cmd
Only in /home/chenyh/os/linux/lib/: crc32.c
Only in /home/chenyh/os/linux/lib/: crc32defs.h
Only in /home/chenyh/os/linux/lib/: crc32.o
Only in /home/chenyh/os/linux/lib/: .crc32.o.cmd
Only in /home/chenyh/os/linux/lib/: crc32table.h
Only in /home/chenyh/os/linux/lib/: crc7.c
Only in /home/chenyh/os/linux/lib/: crc7.o
Only in /home/chenyh/os/linux/lib/: .crc7.o.cmd
Only in /home/chenyh/os/linux/lib/: crc8.c
Only in /home/chenyh/os/linux/lib/: crc-ccitt.c
Only in /home/chenyh/os/linux/lib/: crc-ccitt.o
Only in /home/chenyh/os/linux/lib/: .crc-ccitt.o.cmd
Only in /home/chenyh/os/linux/lib/: crc-itu-t.c
Only in /home/chenyh/os/linux/lib/: crc-itu-t.o
Only in /home/chenyh/os/linux/lib/: .crc-itu-t.o.cmd
Only in /home/chenyh/os/linux/lib/: crc-t10dif.c
Only in /home/chenyh/os/linux/lib/: crc-t10dif.o
Only in /home/chenyh/os/linux/lib/: .crc-t10dif.o.cmd
Binary files /home/chenyh/os/linux/lib/ctype.o and lib/ctype.o differ
Only in /home/chenyh/os/linux/lib/: .ctype.o.cmd
Only in /home/chenyh/os/linux/lib/: debug_locks.c
Only in /home/chenyh/os/linux/lib/: debug_locks.o
Only in /home/chenyh/os/linux/lib/: .debug_locks.o.cmd
Only in /home/chenyh/os/linux/lib/: debugobjects.c
Only in /home/chenyh/os/linux/lib/: dec_and_lock.c
Only in /home/chenyh/os/linux/lib/: dec_and_lock.o
Only in /home/chenyh/os/linux/lib/: .dec_and_lock.o.cmd
Only in /home/chenyh/os/linux/lib/: decompress_bunzip2.c
Only in /home/chenyh/os/linux/lib/: decompress.c
Only in /home/chenyh/os/linux/lib/: decompress_inflate.c
Only in /home/chenyh/os/linux/lib/: decompress_inflate.o
Only in /home/chenyh/os/linux/lib/: .decompress_inflate.o.cmd
Only in /home/chenyh/os/linux/lib/: decompress.o
Only in /home/chenyh/os/linux/lib/: .decompress.o.cmd
Only in /home/chenyh/os/linux/lib/: decompress_unlzma.c
Only in /home/chenyh/os/linux/lib/: decompress_unlzo.c
Only in /home/chenyh/os/linux/lib/: decompress_unxz.c
Only in /home/chenyh/os/linux/lib/: devres.c
Only in /home/chenyh/os/linux/lib/: devres.o
Only in /home/chenyh/os/linux/lib/: .devres.o.cmd
Only in /home/chenyh/os/linux/lib/: digsig.c
Only in /home/chenyh/os/linux/lib/: div64.c
Only in /home/chenyh/os/linux/lib/: div64.o
Only in /home/chenyh/os/linux/lib/: .div64.o.cmd
Only in /home/chenyh/os/linux/lib/: dma-debug.c
Binary files /home/chenyh/os/linux/lib/dump_stack.o and lib/dump_stack.o differ
Only in /home/chenyh/os/linux/lib/: .dump_stack.o.cmd
Only in /home/chenyh/os/linux/lib/: dynamic_debug.c
Only in /home/chenyh/os/linux/lib/: dynamic_queue_limits.c
Only in /home/chenyh/os/linux/lib/: dynamic_queue_limits.o
Only in /home/chenyh/os/linux/lib/: .dynamic_queue_limits.o.cmd
Only in /home/chenyh/os/linux/lib/: extable.c
Only in /home/chenyh/os/linux/lib/: extable.o
Only in /home/chenyh/os/linux/lib/: .extable.o.cmd
Only in /home/chenyh/os/linux/lib/: fault-inject.c
Only in /home/chenyh/os/linux/lib/: fdt.c
Only in /home/chenyh/os/linux/lib/: fdt_ro.c
Only in /home/chenyh/os/linux/lib/: fdt_rw.c
Only in /home/chenyh/os/linux/lib/: fdt_strerror.c
Only in /home/chenyh/os/linux/lib/: fdt_sw.c
Only in /home/chenyh/os/linux/lib/: fdt_wip.c
Only in /home/chenyh/os/linux/lib/: find_last_bit.c
Only in /home/chenyh/os/linux/lib/: find_last_bit.o
Only in /home/chenyh/os/linux/lib/: .find_last_bit.o.cmd
Only in /home/chenyh/os/linux/lib/: find_next_bit.c
Only in /home/chenyh/os/linux/lib/: find_next_bit.o
Only in /home/chenyh/os/linux/lib/: .find_next_bit.o.cmd
Only in /home/chenyh/os/linux/lib/: flex_array.c
Only in /home/chenyh/os/linux/lib/: flex_array.o
Only in /home/chenyh/os/linux/lib/: .flex_array.o.cmd
Only in /home/chenyh/os/linux/lib/: flex_proportions.c
Only in /home/chenyh/os/linux/lib/: flex_proportions.o
Only in /home/chenyh/os/linux/lib/: .flex_proportions.o.cmd
Only in /home/chenyh/os/linux/lib/: gcd.c
Only in /home/chenyh/os/linux/lib/: gcd.o
Only in /home/chenyh/os/linux/lib/: .gcd.o.cmd
Only in /home/chenyh/os/linux/lib/: genalloc.c
Only in /home/chenyh/os/linux/lib/: gen_crc32table
Only in /home/chenyh/os/linux/lib/: gen_crc32table.c
Only in /home/chenyh/os/linux/lib/: .gen_crc32table.cmd
Only in /home/chenyh/os/linux/lib/: .gitignore
Only in /home/chenyh/os/linux/lib/: halfmd4.c
Only in /home/chenyh/os/linux/lib/: halfmd4.o
Only in /home/chenyh/os/linux/lib/: .halfmd4.o.cmd
Binary files /home/chenyh/os/linux/lib/hexdump.o and lib/hexdump.o differ
Only in /home/chenyh/os/linux/lib/: .hexdump.o.cmd
Only in /home/chenyh/os/linux/lib/: hweight.c
Only in /home/chenyh/os/linux/lib/: hweight.o
Only in /home/chenyh/os/linux/lib/: .hweight.o.cmd
Only in /home/chenyh/os/linux/lib/: idr.c
Only in /home/chenyh/os/linux/lib/: idr.o
Only in /home/chenyh/os/linux/lib/: .idr.o.cmd
Only in /home/chenyh/os/linux/lib/: inflate.c
Only in /home/chenyh/os/linux/lib/: int_sqrt.c
Only in /home/chenyh/os/linux/lib/: int_sqrt.o
Only in /home/chenyh/os/linux/lib/: .int_sqrt.o.cmd
Only in /home/chenyh/os/linux/lib/: iomap.c
Only in /home/chenyh/os/linux/lib/: iomap_copy.c
Only in /home/chenyh/os/linux/lib/: iomap_copy.o
Only in /home/chenyh/os/linux/lib/: .iomap_copy.o.cmd
Only in /home/chenyh/os/linux/lib/: iommu-helper.c
Only in /home/chenyh/os/linux/lib/: ioremap.c
Only in /home/chenyh/os/linux/lib/: ioremap.o
Only in /home/chenyh/os/linux/lib/: .ioremap.o.cmd
Only in /home/chenyh/os/linux/lib/: irq_regs.c
Only in /home/chenyh/os/linux/lib/: irq_regs.o
Only in /home/chenyh/os/linux/lib/: .irq_regs.o.cmd
Only in /home/chenyh/os/linux/lib/: is_single_threaded.c
Only in /home/chenyh/os/linux/lib/: is_single_threaded.o
Only in /home/chenyh/os/linux/lib/: .is_single_threaded.o.cmd
Only in /home/chenyh/os/linux/lib/: jedec_ddr_data.c
Binary files /home/chenyh/os/linux/lib/kasprintf.o and lib/kasprintf.o differ
Only in /home/chenyh/os/linux/lib/: .kasprintf.o.cmd
Only in /home/chenyh/os/linux/lib/: Kconfig
Only in /home/chenyh/os/linux/lib/: Kconfig.debug
Only in /home/chenyh/os/linux/lib/: Kconfig.kgdb
Only in /home/chenyh/os/linux/lib/: Kconfig.kmemcheck
Binary files /home/chenyh/os/linux/lib/klist.o and lib/klist.o differ
Only in /home/chenyh/os/linux/lib/: .klist.o.cmd
Binary files /home/chenyh/os/linux/lib/kobject.o and lib/kobject.o differ
Only in /home/chenyh/os/linux/lib/: .kobject.o.cmd
Only in /home/chenyh/os/linux/lib/: kobject_uevent.c
Only in /home/chenyh/os/linux/lib/: kobject_uevent.o
Only in /home/chenyh/os/linux/lib/: .kobject_uevent.o.cmd
Binary files /home/chenyh/os/linux/lib/kstrtox.o and lib/kstrtox.o differ
Only in /home/chenyh/os/linux/lib/: .kstrtox.o.cmd
Only in /home/chenyh/os/linux/lib/: lcm.c
Only in /home/chenyh/os/linux/lib/: lcm.o
Only in /home/chenyh/os/linux/lib/: .lcm.o.cmd
Only in /home/chenyh/os/linux/lib/: lib.a
Only in /home/chenyh/os/linux/lib/: .lib.a.cmd
Only in /home/chenyh/os/linux/lib/: libcrc32c.c
Only in /home/chenyh/os/linux/lib/: libcrc32c.o
Only in /home/chenyh/os/linux/lib/: .libcrc32c.o.cmd
Only in /home/chenyh/os/linux/lib/: list_debug.c
Only in /home/chenyh/os/linux/lib/: list_sort.c
Only in /home/chenyh/os/linux/lib/: list_sort.o
Only in /home/chenyh/os/linux/lib/: .list_sort.o.cmd
Only in /home/chenyh/os/linux/lib/: llist.c
Only in /home/chenyh/os/linux/lib/: llist.o
Only in /home/chenyh/os/linux/lib/: .llist.o.cmd
Only in /home/chenyh/os/linux/lib/: locking-selftest.c
Only in /home/chenyh/os/linux/lib/: locking-selftest-hardirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-mutex.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-rlock.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-rlock-hardirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-rlock-softirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-rsem.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-softirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-spin.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-spin-hardirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-spin-softirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-wlock.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-wlock-hardirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-wlock-softirq.h
Only in /home/chenyh/os/linux/lib/: locking-selftest-wsem.h
Only in /home/chenyh/os/linux/lib/: lru_cache.c
Only in /home/chenyh/os/linux/lib/: lzo
Only in /home/chenyh/os/linux/lib/: Makefile
Only in /home/chenyh/os/linux/lib/: md5.c
Only in /home/chenyh/os/linux/lib/: md5.o
Only in /home/chenyh/os/linux/lib/: .md5.o.cmd
Only in /home/chenyh/os/linux/lib/: memory-notifier-error-inject.c
Only in /home/chenyh/os/linux/lib/: memweight.c
Only in /home/chenyh/os/linux/lib/: memweight.o
Only in /home/chenyh/os/linux/lib/: .memweight.o.cmd
Only in /home/chenyh/os/linux/lib/: modules.builtin
Only in /home/chenyh/os/linux/lib/: modules.order
Only in /home/chenyh/os/linux/lib/: mpi
Only in /home/chenyh/os/linux/lib/: nlattr.c
Only in /home/chenyh/os/linux/lib/: nlattr.o
Only in /home/chenyh/os/linux/lib/: .nlattr.o.cmd
Only in /home/chenyh/os/linux/lib/: notifier-error-inject.c
Only in /home/chenyh/os/linux/lib/: notifier-error-inject.h
Only in /home/chenyh/os/linux/lib/: parser.c
Only in /home/chenyh/os/linux/lib/: parser.o
Only in /home/chenyh/os/linux/lib/: .parser.o.cmd
Only in /home/chenyh/os/linux/lib/: pci_iomap.c
Only in /home/chenyh/os/linux/lib/: pci_iomap.o
Only in /home/chenyh/os/linux/lib/: .pci_iomap.o.cmd
Only in /home/chenyh/os/linux/lib/: percpu_counter.c
Only in /home/chenyh/os/linux/lib/: plist.c
Only in /home/chenyh/os/linux/lib/: plist.o
Only in /home/chenyh/os/linux/lib/: .plist.o.cmd
Only in /home/chenyh/os/linux/lib/: pm-notifier-error-inject.c
Only in /home/chenyh/os/linux/lib/: prio_heap.c
Only in /home/chenyh/os/linux/lib/: prio_heap.o
Only in /home/chenyh/os/linux/lib/: .prio_heap.o.cmd
Only in /home/chenyh/os/linux/lib/: prio_tree.c
Only in /home/chenyh/os/linux/lib/: prio_tree.o
Only in /home/chenyh/os/linux/lib/: .prio_tree.o.cmd
Only in /home/chenyh/os/linux/lib/: proportions.c
Only in /home/chenyh/os/linux/lib/: proportions.o
Only in /home/chenyh/os/linux/lib/: .proportions.o.cmd
Only in /home/chenyh/os/linux/lib/: pSeries-reconfig-notifier-error-inject.c
Only in /home/chenyh/os/linux/lib/: radix-tree.c
Only in /home/chenyh/os/linux/lib/: radix-tree.o
Only in /home/chenyh/os/linux/lib/: .radix-tree.o.cmd
Only in /home/chenyh/os/linux/lib/: raid6
Only in /home/chenyh/os/linux/lib/: random32.c
Only in /home/chenyh/os/linux/lib/: random32.o
Only in /home/chenyh/os/linux/lib/: .random32.o.cmd
Only in /home/chenyh/os/linux/lib/: ratelimit.c
Only in /home/chenyh/os/linux/lib/: ratelimit.o
Only in /home/chenyh/os/linux/lib/: .ratelimit.o.cmd
Only in /home/chenyh/os/linux/lib/: rational.c
Only in /home/chenyh/os/linux/lib/: rbtree.c
Only in /home/chenyh/os/linux/lib/: rbtree.o
Only in /home/chenyh/os/linux/lib/: .rbtree.o.cmd
Only in /home/chenyh/os/linux/lib/: reciprocal_div.c
Only in /home/chenyh/os/linux/lib/: reciprocal_div.o
Only in /home/chenyh/os/linux/lib/: .reciprocal_div.o.cmd
Only in /home/chenyh/os/linux/lib/: reed_solomon
Only in /home/chenyh/os/linux/lib/: rwsem.c
Only in /home/chenyh/os/linux/lib/: rwsem-spinlock.c
Only in /home/chenyh/os/linux/lib/: rwsem-spinlock.o
Only in /home/chenyh/os/linux/lib/: .rwsem-spinlock.o.cmd
Only in /home/chenyh/os/linux/lib/: scatterlist.c
Only in /home/chenyh/os/linux/lib/: scatterlist.o
Only in /home/chenyh/os/linux/lib/: .scatterlist.o.cmd
Only in /home/chenyh/os/linux/lib/: sha1.c
Only in /home/chenyh/os/linux/lib/: sha1.o
Only in /home/chenyh/os/linux/lib/: .sha1.o.cmd
Only in /home/chenyh/os/linux/lib/: show_mem.c
Only in /home/chenyh/os/linux/lib/: show_mem.o
Only in /home/chenyh/os/linux/lib/: .show_mem.o.cmd
Only in /home/chenyh/os/linux/lib/: smp_processor_id.c
Only in /home/chenyh/os/linux/lib/: sort.c
Only in /home/chenyh/os/linux/lib/: sort.o
Only in /home/chenyh/os/linux/lib/: .sort.o.cmd
Only in /home/chenyh/os/linux/lib/: spinlock_debug.c
Only in /home/chenyh/os/linux/lib/: spinlock_debug.o
Only in /home/chenyh/os/linux/lib/: .spinlock_debug.o.cmd
Only in /home/chenyh/os/linux/lib/: stmp_device.c
diff -ur /home/chenyh/os/linux/lib/string.c lib/string.c
--- /home/chenyh/os/linux/lib/string.c	2012-08-06 19:42:10.866335573 +0800
+++ lib/string.c	2012-10-28 14:42:13.700147345 +0800
@@ -34,7 +34,7 @@
  * @s2: The other string
  * @len: the maximum number of characters to compare
  */
-int strnicmp(const char *s1, const char *s2, size_t len)
+int __attribute__((weak))  strnicmp(const char *s1, const char *s2, size_t len)
 {
 	/* Yes, Virginia, it had better be unsigned */
 	unsigned char c1, c2;
@@ -60,7 +60,7 @@
 #endif
 
 #ifndef __HAVE_ARCH_STRCASECMP
-int strcasecmp(const char *s1, const char *s2)
+int __attribute__((weak))  strcasecmp(const char *s1, const char *s2)
 {
 	int c1, c2;
 
@@ -74,7 +74,7 @@
 #endif
 
 #ifndef __HAVE_ARCH_STRNCASECMP
-int strncasecmp(const char *s1, const char *s2, size_t n)
+int __attribute__((weak))  strncasecmp(const char *s1, const char *s2, size_t n)
 {
 	int c1, c2;
 
@@ -94,7 +94,7 @@
  * @src: Where to copy the string from
  */
 #undef strcpy
-char *strcpy(char *dest, const char *src)
+char __attribute__((weak))  *strcpy(char *dest, const char *src)
 {
 	char *tmp = dest;
 
@@ -119,7 +119,7 @@
  * count, the remainder of @dest will be padded with %NUL.
  *
  */
-char *strncpy(char *dest, const char *src, size_t count)
+char __attribute__((weak))  *strncpy(char *dest, const char *src, size_t count)
 {
 	char *tmp = dest;
 
@@ -146,7 +146,7 @@
  * of course, the buffer size is zero). It does not pad
  * out the result like strncpy() does.
  */
-size_t strlcpy(char *dest, const char *src, size_t size)
+size_t __attribute__((weak))  strlcpy(char *dest, const char *src, size_t size)
 {
 	size_t ret = strlen(src);
 
@@ -167,7 +167,7 @@
  * @src: The string to append to it
  */
 #undef strcat
-char *strcat(char *dest, const char *src)
+char __attribute__((weak))  *strcat(char *dest, const char *src)
 {
 	char *tmp = dest;
 
@@ -190,7 +190,7 @@
  * Note that in contrast to strncpy(), strncat() ensures the result is
  * terminated.
  */
-char *strncat(char *dest, const char *src, size_t count)
+char __attribute__((weak))  *strncat(char *dest, const char *src, size_t count)
 {
 	char *tmp = dest;
 
@@ -216,7 +216,7 @@
  * @src: The string to append to it
  * @count: The size of the destination buffer.
  */
-size_t strlcat(char *dest, const char *src, size_t count)
+size_t __attribute__((weak))  strlcat(char *dest, const char *src, size_t count)
 {
 	size_t dsize = strlen(dest);
 	size_t len = strlen(src);
@@ -243,7 +243,7 @@
  * @ct: Another string
  */
 #undef strcmp
-int strcmp(const char *cs, const char *ct)
+int __attribute__((weak))  strcmp(const char *cs, const char *ct)
 {
 	unsigned char c1, c2;
 
@@ -267,7 +267,7 @@
  * @ct: Another string
  * @count: The maximum number of bytes to compare
  */
-int strncmp(const char *cs, const char *ct, size_t count)
+int __attribute__((weak))  strncmp(const char *cs, const char *ct, size_t count)
 {
 	unsigned char c1, c2;
 
@@ -291,7 +291,7 @@
  * @s: The string to be searched
  * @c: The character to search for
  */
-char *strchr(const char *s, int c)
+char __attribute__((weak))  *strchr(const char *s, int c)
 {
 	for (; *s != (char)c; ++s)
 		if (*s == '\0')
@@ -307,7 +307,7 @@
  * @s: The string to be searched
  * @c: The character to search for
  */
-char *strrchr(const char *s, int c)
+char __attribute__((weak))  *strrchr(const char *s, int c)
 {
        const char *p = s + strlen(s);
        do {
@@ -326,7 +326,7 @@
  * @count: The number of characters to be searched
  * @c: The character to search for
  */
-char *strnchr(const char *s, size_t count, int c)
+char __attribute__((weak))  *strnchr(const char *s, size_t count, int c)
 {
 	for (; count-- && *s != '\0'; ++s)
 		if (*s == (char)c)
@@ -342,7 +342,7 @@
  *
  * Returns a pointer to the first non-whitespace character in @str.
  */
-char *skip_spaces(const char *str)
+char __attribute__((weak))  *skip_spaces(const char *str)
 {
 	while (isspace(*str))
 		++str;
@@ -358,7 +358,7 @@
  * in the given string @s. Returns a pointer to the first non-whitespace
  * character in @s.
  */
-char *strim(char *s)
+char __attribute__((weak))  *strim(char *s)
 {
 	size_t size;
 	char *end;
@@ -381,7 +381,7 @@
  * strlen - Find the length of a string
  * @s: The string to be sized
  */
-size_t strlen(const char *s)
+size_t __attribute__((weak))  strlen(const char *s)
 {
 	const char *sc;
 
@@ -398,7 +398,7 @@
  * @s: The string to be sized
  * @count: The maximum number of bytes to search
  */
-size_t strnlen(const char *s, size_t count)
+size_t __attribute__((weak))  strnlen(const char *s, size_t count)
 {
 	const char *sc;
 
@@ -415,7 +415,7 @@
  * @s: The string to be searched
  * @accept: The string to search for
  */
-size_t strspn(const char *s, const char *accept)
+size_t __attribute__((weak))  strspn(const char *s, const char *accept)
 {
 	const char *p;
 	const char *a;
@@ -442,7 +442,7 @@
  * @s: The string to be searched
  * @reject: The string to avoid
  */
-size_t strcspn(const char *s, const char *reject)
+size_t __attribute__((weak))  strcspn(const char *s, const char *reject)
 {
 	const char *p;
 	const char *r;
@@ -466,7 +466,7 @@
  * @cs: The string to be searched
  * @ct: The characters to search for
  */
-char *strpbrk(const char *cs, const char *ct)
+char __attribute__((weak))  *strpbrk(const char *cs, const char *ct)
 {
 	const char *sc1, *sc2;
 
@@ -493,7 +493,7 @@
  * of that name. In fact, it was stolen from glibc2 and de-fancy-fied.
  * Same semantics, slimmer shape. ;)
  */
-char *strsep(char **s, const char *ct)
+char __attribute__((weak))  *strsep(char **s, const char *ct)
 {
 	char *sbegin = *s;
 	char *end;
@@ -546,7 +546,7 @@
  * Otherwise it will return -EINVAL.  Value pointed to by res is
  * updated upon finding a match.
  */
-int strtobool(const char *s, bool *res)
+int  __attribute__((weak)) strtobool(const char *s, bool *res)
 {
 	switch (s[0]) {
 	case 'y':
@@ -575,7 +575,7 @@
  *
  * Do not use memset() to access IO space, use memset_io() instead.
  */
-void *memset(void *s, int c, size_t count)
+void __attribute__((weak))  *memset(void *s, int c, size_t count)
 {
 	char *xs = s;
 
@@ -596,7 +596,7 @@
  * You should not use this function to access IO space, use memcpy_toio()
  * or memcpy_fromio() instead.
  */
-void *memcpy(void *dest, const void *src, size_t count)
+void __attribute__((weak))  *memcpy(void *dest, const void *src, size_t count)
 {
 	char *tmp = dest;
 	const char *s = src;
@@ -617,7 +617,7 @@
  *
  * Unlike memcpy(), memmove() copes with overlapping areas.
  */
-void *memmove(void *dest, const void *src, size_t count)
+void __attribute__((weak))  *memmove(void *dest, const void *src, size_t count)
 {
 	char *tmp;
 	const char *s;
@@ -648,7 +648,7 @@
  * @count: The size of the area.
  */
 #undef memcmp
-int memcmp(const void *cs, const void *ct, size_t count)
+int __attribute__((weak))  memcmp(const void *cs, const void *ct, size_t count)
 {
 	const unsigned char *su1, *su2;
 	int res = 0;
@@ -671,7 +671,7 @@
  * returns the address of the first occurrence of @c, or 1 byte past
  * the area if @c is not found
  */
-void *memscan(void *addr, int c, size_t size)
+void __attribute__((weak))  *memscan(void *addr, int c, size_t size)
 {
 	unsigned char *p = addr;
 
@@ -692,7 +692,7 @@
  * @s1: The string to be searched
  * @s2: The string to search for
  */
-char *strstr(const char *s1, const char *s2)
+char __attribute__((weak))  *strstr(const char *s1, const char *s2)
 {
 	size_t l1, l2;
 
@@ -718,7 +718,7 @@
  * @s2: The string to search for
  * @len: the maximum number of characters to search
  */
-char *strnstr(const char *s1, const char *s2, size_t len)
+char __attribute__((weak))  *strnstr(const char *s1, const char *s2, size_t len)
 {
 	size_t l2;
 
@@ -746,7 +746,7 @@
  * returns the address of the first occurrence of @c, or %NULL
  * if @c is not found
  */
-void *memchr(const void *s, int c, size_t n)
+void __attribute__((weak))  *memchr(const void *s, int c, size_t n)
 {
 	const unsigned char *p = s;
 	while (n-- != 0) {
@@ -779,7 +779,7 @@
  * returns the address of the first character other than @c, or %NULL
  * if the whole buffer contains just @c.
  */
-void *memchr_inv(const void *start, int c, size_t bytes)
+void __attribute__((weak))  *memchr_inv(const void *start, int c, size_t bytes)
 {
 	u8 value = c;
 	u64 value64;
Only in lib: .string.c.swp
Only in /home/chenyh/os/linux/lib/: string_helpers.c
Only in /home/chenyh/os/linux/lib/: string_helpers.o
Only in /home/chenyh/os/linux/lib/: .string_helpers.o.cmd
Binary files /home/chenyh/os/linux/lib/string.o and lib/string.o differ
Only in /home/chenyh/os/linux/lib/: .string.o.cmd
Only in /home/chenyh/os/linux/lib/: strncpy_from_user.c
Only in /home/chenyh/os/linux/lib/: strncpy_from_user.o
Only in /home/chenyh/os/linux/lib/: .strncpy_from_user.o.cmd
Only in /home/chenyh/os/linux/lib/: strnlen_user.c
Only in /home/chenyh/os/linux/lib/: strnlen_user.o
Only in /home/chenyh/os/linux/lib/: .strnlen_user.o.cmd
Only in /home/chenyh/os/linux/lib/: swiotlb.c
Only in /home/chenyh/os/linux/lib/: syscall.c
Only in /home/chenyh/os/linux/lib/: syscall.o
Only in /home/chenyh/os/linux/lib/: .syscall.o.cmd
Only in /home/chenyh/os/linux/lib/: test-kstrtox.c
Only in /home/chenyh/os/linux/lib/: textsearch.c
Only in /home/chenyh/os/linux/lib/: timerqueue.c
Only in /home/chenyh/os/linux/lib/: timerqueue.o
Only in /home/chenyh/os/linux/lib/: .timerqueue.o.cmd
Only in /home/chenyh/os/linux/lib/: ts_bm.c
Only in /home/chenyh/os/linux/lib/: ts_fsm.c
Only in /home/chenyh/os/linux/lib/: ts_kmp.c
Only in /home/chenyh/os/linux/lib/: uuid.c
Only in /home/chenyh/os/linux/lib/: uuid.o
Only in /home/chenyh/os/linux/lib/: .uuid.o.cmd
diff -ur /home/chenyh/os/linux/lib/vsprintf.c lib/vsprintf.c
--- /home/chenyh/os/linux/lib/vsprintf.c	2012-10-15 18:59:23.108830107 +0800
+++ lib/vsprintf.c	2012-10-28 14:45:30.624155010 +0800
@@ -1569,7 +1569,7 @@
  *
  * See the vsnprintf() documentation for format string extensions over C99.
  */
-int snprintf(char *buf, size_t size, const char *fmt, ...)
+int  __attribute__((weak)) snprintf(char *buf, size_t size, const char *fmt, ...)
 {
 	va_list args;
 	int i;
Binary files /home/chenyh/os/linux/lib/vsprintf.o and lib/vsprintf.o differ
Only in /home/chenyh/os/linux/lib/: .vsprintf.o.cmd
Only in /home/chenyh/os/linux/lib/: xz
Only in /home/chenyh/os/linux/lib/: zlib_deflate
Only in /home/chenyh/os/linux/lib/: zlib_inflate
